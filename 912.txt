<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>R3vival â€” Shop</title>

<!-- SellAuth embed (checkout modal) -->
<script src="https://sellauth.com/assets/js/sellauth-embed-2.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto, "Helvetica Neue", Arial; margin:0; background:#ffffff; color:#111; -webkit-font-smoothing:antialiased}
  a{color:inherit}

  /* Header */
  header{background:#fff;border-bottom:1px solid #eef0f3;padding:20px 16px;position:sticky;top:0;z-index:60}
  .nav-wrap{display:flex;align-items:center;gap:18px;width:100%;max-width:1100px;margin:0 auto;justify-content:space-between}
  .nav-left,.nav-right{display:flex;gap:12px;align-items:center;flex:1;justify-content:center}
  .logo-block{flex:0 0 auto;display:flex;align-items:center;justify-content:center;margin:0 12px}
  .logo { height:72px; width:auto; border-radius:8px; transition:transform .35s; }
  nav a{font-weight:700;padding:8px 12px;border-radius:8px;text-decoration:none;color:#222;transition:all .15s;cursor:pointer}
  nav a.active{background:#f3f8ff;color:#0366d6;box-shadow:0 6px 14px rgba(3,102,214,0.06)}
  nav a:hover{transform:translateY(-2px);color:#0366d6}

  main{max-width:1200px;margin:28px auto;padding:0 16px;display:flex;flex-direction:column;gap:20px}

  .shop-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .shop-head h1{font-size:20px;margin:0;color:#111}

  /* Product grid */
  #productsGrid{display:flex;flex-wrap:wrap;gap:20px;justify-content:flex-start}
  .product-card{width:260px;background:#fff;border-radius:12px;padding:14px;box-shadow:0 8px 20px rgba(12,18,30,0.04);display:flex;flex-direction:column;align-items:center;transition:transform .16s,box-shadow .16s}
  .product-card:hover{transform:translateY(-6px);box-shadow:0 16px 36px rgba(12,18,30,0.07)}
  .product-img{width:100%;height:240px;border-radius:10px;object-fit:cover;margin-bottom:12px;background:#f7f9fb}
  .product-title{font-weight:700;text-align:center;font-size:15px;margin:6px 0;color:#111}
  .product-desc{font-size:13px;color:#5b6270;text-align:center;margin-top:6px;min-height:34px}
  .price{color:#0366d6;font-weight:800;margin-top:8px;font-size:1.05rem}
  .product-actions{display:flex;gap:10px;margin-top:12px;width:100%}
  .size-select{flex:1;padding:9px;border-radius:10px;border:1px solid #eef2f6;background:#fff}
  .add-btn{flex:1;padding:10px;border-radius:10px;border:none;background:#0366d6;color:#fff;font-weight:700;cursor:pointer}
  .add-btn:hover{background:#024ea8;transform:translateY(-1px)}

  .badge-new{position:absolute;left:16px;top:16px;background:#ff3b30;color:white;padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}
  .badge-pre{position:absolute;right:16px;top:16px;background:#ff9f1c;color:white;padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}

  /* Floating cart */
  .cart-button{position:fixed;right:22px;bottom:22px;width:62px;height:62px;border-radius:50%;background:linear-gradient(180deg,#0366d6,#024ea8);color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 18px 40px rgba(3,102,214,0.18);cursor:pointer;z-index:999;font-size:20px}
  .cart-count{position:fixed;right:16px;bottom:88px;background:#ff3b30;color:#fff;font-weight:800;padding:6px 9px;border-radius:999px;z-index:999;font-size:13px;box-shadow:0 8px 20px rgba(0,0,0,0.12);display:none}

  /* Cart Drawer */
  .cart-drawer{position:fixed;right:0;top:0;height:100vh;width:420px;background:#fff;box-shadow:-20px 0 60px rgba(10,20,40,0.12);transform:translateX(110%);transition:transform .28s ease;z-index:1000;display:flex;flex-direction:column;padding:18px}
  .cart-drawer.open{transform:translateX(0)}
  .cart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .cart-items{flex:1;overflow:auto;padding-right:6px;margin-top:6px}
  .cart-item{display:flex;gap:12px;align-items:center;padding:10px 0;border-bottom:1px solid #f0f4f8}
  .cart-item img{width:72px;height:72px;border-radius:10px;object-fit:cover}
  .cart-item-info{flex:1}
  .cart-item-title{font-weight:700}
  .cart-item-price{color:#0366d6;margin-top:6px;font-weight:700}
  .cart-controls{display:flex;align-items:center;gap:10px;margin-top:8px}
  .qty-btn{padding:6px 10px;border-radius:8px;border:none;background:#eef6ff;color:#0366d6;cursor:pointer}
  .remove-btn{background:transparent;border:none;color:#ff3b30;cursor:pointer}
  .cart-footer{padding-top:12px;border-top:1px solid #f0f4f8}
  .total-row{display:flex;justify-content:space-between;font-weight:800;margin-bottom:12px;font-size:1.05rem}
  .checkout-btn{width:100%;padding:12px;border-radius:10px;border:none;background:#0366d6;color:#fff;font-weight:800;cursor:pointer}
  .checkout-btn:disabled{opacity:.6;cursor:not-allowed}

  /* Info cards */
  .info-row{display:flex;gap:18px;margin-top:20px;flex-wrap:wrap}
  .info-card{flex:1;min-width:260px;background:#fff;border-radius:12px;padding:18px;box-shadow:0 12px 30px rgba(8,12,20,0.04)}
  .info-card h3{margin:0 0 6px 0}

  @media(max-width:920px){
    .cart-drawer{width:100%}
    #productsGrid{justify-content:center}
    .nav-left,.nav-right{display:none}
    .logo-block{margin:0}
  }

  /* subtle entrance */
  .fade-in-up{animation:fadeUp .45s ease both}
  @keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

  /* small utilities */
  .center { display:flex; justify-content:center; align-items:center; flex-direction:column; }
  .muted { color:#6b7280; font-size:13px; }
</style>
</head>
<body>

<header>
  <div class="nav-wrap">
    <div class="nav-left">
      <nav><a onclick="showPage('products')" id="nav-products">Products</a><a onclick="showPage('about')" id="nav-about">About</a></nav>
    </div>

    <div class="logo-block">
      <!-- Centered logo -->
      <img class="logo" src="https://i.postimg.cc/nr1DTD7V/r3vival.jpg" alt="R3vival">
    </div>

    <div class="nav-right">
      <nav><a onclick="showPage('contact')" id="nav-contact">Contact</a></nav>
    </div>
  </div>
</header>

<main>
  <div class="shop-head">
    <h1>R3vival â€” Faith. Style. Revival.</h1>
    <div class="muted">Free shipping over $75</div>
  </div>

  <!-- Products -->
  <section id="productsSection" class="fade-in-up">
    <div id="productsGrid" aria-live="polite"></div>
  </section>

  <!-- About -->
  <section id="aboutSection" style="display:none">
    <div class="info-card fade-in-up" style="max-width:920px;margin:0 auto">
      <h2>About Project R3vival</h2>
      <p>Project R3vival is a religious clothing brand combining both faith and style. Our mission is to provide high-quality, stylish clothing that reflects the values and beliefs of the wearer. We believe that fashion can be a powerful form of self-expression and a way to share one's faith with the world. At Project R3vival, we are dedicated to offering a wide range of apparel that allows individuals to embrace their spirituality while staying on-trend and fashionable.</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contactSection" style="display:none">
    <div class="info-row">
      <div class="info-card">
        <h3>About Us</h3>
        <p>Shop Now</p>
        <p>Long Island,</p>
        <p>New York, NY</p>
      </div>
      <div class="info-card">
        <h3>Working Hours</h3>
        <p>Mon - Fri: 1pm - 9pm</p>
        <p>Saturday: All Hours</p>
        <p>Sunday: All Hours</p>
      </div>
      <div class="info-card">
        <h3>Customer Support</h3>
        <p>Tel: 1-800-123-4567</p>
        <p>Email: <a href="mailto:R3vivalapparel@gmail.com">R3vivalapparel@gmail.com</a></p>
      </div>
    </div>
  </section>
</main>

<!-- Floating cart -->
<div class="cart-button" id="cartButton" title="Open cart">ðŸ›’</div>
<div class="cart-count" id="cartCount">0</div>

<!-- Cart drawer -->
<div class="cart-drawer" id="cartDrawer" aria-hidden="true">
  <div class="cart-header">
    <h3>Your Cart</h3>
    <button onclick="closeCart()" aria-label="Close">âœ•</button>
  </div>

  <div class="cart-items" id="cartItems"></div>

  <div class="cart-footer">
    <div class="total-row"><span>Total</span><span id="cartTotal">$0.00</span></div>
    <button class="checkout-btn" id="checkoutBtn" onclick="checkout()" disabled>Checkout</button>
  </div>
</div>

<script>
/* --- PRODUCTS --- */
const PRODUCTS = [
  { id:'p1', name: "Blossom Tree Heavyweight T-Shirt", price: 30.00, description:"Classic heavyweight tee", image:"https://via.placeholder.com/640x480?text=Blossom+Tree", productId:460427, preorder:false, available:true, variants:[
    {size:'Small', variantId:'675063'},
    {size:'Medium', variantId:'805376'},
    {size:'Large', variantId:'805377'},
    {size:'XL', variantId:'805378'},
    {size:'2XL', variantId:'805382'}
  ]},
  { id:'p2', name: "The Search Hoodie 460 GSM", price: 46.50, description:"Cozy hoodie", image:"https://via.placeholder.com/640x480?text=The+Search", productId:522462, preorder:false, available:true, variants:[
    {size:'Small', variantId:'793286'},
    {size:'Medium', variantId:'805401'},
    {size:'Large', variantId:'805402'},
    {size:'XL', variantId:'805403'},
    {size:'2XL', variantId:'805404'}
  ]},
  { id:'p3', name: "Jesus Christ Heavyweight Tee", price: 28.00, description:"Faith tee", image:"https://via.placeholder.com/640x480?text=Jesus+Christ", productId:525499, preorder:false, available:true, variants:[
    {size:'Small', variantId:'798889'},
    {size:'Medium', variantId:'805410'},
    {size:'Large', variantId:'805411'},
    {size:'XL', variantId:'805412'},
    {size:'2XL', variantId:'805413'}
  ]},
  { id:'p4', name: "Tiger Of Anger Hoodie", price: 52.00, description:"Bold hoodie", image:"https://via.placeholder.com/640x480?text=Tiger+Of+Anger", productId:525500, preorder:false, available:true, variants:[
    {size:'Small', variantId:'798905'},
    {size:'Medium', variantId:'805425'},
    {size:'Large', variantId:'805426'},
    {size:'XL', variantId:'805427'},
    {size:'2XL', variantId:'805428'}
  ]},
  { id:'p5', name: "R3vival in christ Heavyweight T-Shirt", price: 30.00, description:"Classic tee", image:"https://via.placeholder.com/640x480?text=R3vival", productId:525502, preorder:false, available:true, variants:[
    {size:'Small', variantId:'798910'},
    {size:'Medium', variantId:'805438'},
    {size:'Large', variantId:'805439'},
    {size:'XL', variantId:'805440'},
    {size:'2XL', variantId:'805488'}
  ]},
  { id:'p6', name: "Davidâ€™s Conquest hoodie 400 GSM", price: 46.50, description:"Cozy hoodie", image:"https://via.placeholder.com/640x480?text=David's+Conquest", productId:525617, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799111'},
    {size:'Medium', variantId:'805449'},
    {size:'Large', variantId:'805450'},
    {size:'XL', variantId:'805451'},
    {size:'2XL', variantId:'805452'}
  ]},
  { id:'p7', name: "Tree Of Books V2 Baggy Tee", price: 28.00, description:"Casual tee", image:"https://via.placeholder.com/640x480?text=Tree+Of+Books", productId:525620, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799125'},
    {size:'Medium', variantId:'805453'},
    {size:'Large', variantId:'805454'},
    {size:'XL', variantId:'805455'},
    {size:'2XL', variantId:'805456'}
  ]},
  { id:'p8', name: "Split Leopard r3 Denim Jeans", price: 80.00, description:"Stylish jeans", image:"https://via.placeholder.com/640x480?text=Split+Leopard", productId:525627, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799134'},
    {size:'Medium', variantId:'805458'},
    {size:'Large', variantId:'805459'},
    {size:'XL', variantId:'805460'},
    {size:'2XL', variantId:'805461'}
  ]},
  { id:'p9', name: "Touched By The Holy Spirit Zip-Up", price: 60.00, description:"Zip-up hoodie", image:"https://via.placeholder.com/640x480?text=Touched+By+Holy+Spirit", productId:525644, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799160'},
    {size:'Medium', variantId:'805464'},
    {size:'Large', variantId:'805465'},
    {size:'XL', variantId:'805466'},
    {size:'2XL', variantId:'805467'}
  ]},
  { id:'p10', name: '"R3vival" Distressed Wide Jeans', price: 75.00, description:"Wide fit jeans", image:"https://via.placeholder.com/640x480?text=Distressed+Jeans", productId:525646, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799162'},
    {size:'Medium', variantId:'805469'},
    {size:'Large', variantId:'805470'},
    {size:'XL', variantId:'805471'},
    {size:'2XL', variantId:'805472'}
  ]},
  { id:'p11', name: "Stuck in Sin Boxy Hoodie", price: 50.00, description:"Boxy hoodie", image:"https://via.placeholder.com/640x480?text=Stuck+In+Sin", productId:525652, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799172'},
    {size:'Medium', variantId:'805475'},
    {size:'Large', variantId:'805476'},
    {size:'XL', variantId:'805477'},
    {size:'2XL', variantId:'805478'}
  ]},
  { id:'p12', name: "Conclusion Camo-Denim Jorts", price: 55.00, description:"Denim shorts", image:"https://via.placeholder.com/640x480?text=Conclusion", productId:525656, preorder:false, available:true, variants:[
    {size:'Small', variantId:'799178'},
    {size:'Medium', variantId:'805480'},
    {size:'Large', variantId:'805481'},
    {size:'XL', variantId:'805482'},
    {size:'2XL', variantId:'805483'}
  ]}
];

const SHOP_ID = 179365;
let cart = [];

function formatPrice(n){ return "$" + Number(n || 0).toFixed(2); }

/* --- RENDER PRODUCTS --- */
function renderProducts() {
  const grid = document.getElementById('productsGrid');
  grid.innerHTML = '';
  PRODUCTS.forEach(p => {
    const card = document.createElement('div');
    card.className = 'product-card fade-in-up';
    card.style.position = 'relative';

    if (p.preorder) {
      const pre = document.createElement('div');
      pre.className = 'badge-pre';
      pre.textContent = 'PREORDER';
      card.appendChild(pre);
    }

    if (p.new) {
      const b = document.createElement('div');
      b.className = 'badge-new';
      b.textContent = 'NEW';
      card.appendChild(b);
    }

    const img = document.createElement('img');
    img.className = 'product-img';
    img.src = p.image || 'https://via.placeholder.com/640x480?text=No+Image';
    img.alt = p.name;

    const title = document.createElement('div');
    title.className = 'product-title';
    title.textContent = p.name;

    const desc = document.createElement('div');
    desc.className = 'product-desc';
    desc.innerHTML = p.description || '';

    const price = document.createElement('div');
    price.className = 'price';
    price.textContent = formatPrice(p.price);

    const actions = document.createElement('div');
    actions.className = 'product-actions';

    const size = document.createElement('select');
    size.className = 'size-select';
    size.innerHTML = '<option value="">Size</option>';
    if (p.variants && p.variants.length) {
      p.variants.forEach(v => {
        const opt = document.createElement('option');
        opt.value = v.variantId;
        opt.textContent = v.size;
        size.appendChild(opt);
      });
    }

    const add = document.createElement('button');
    add.className = 'add-btn';
    add.textContent = p.available ? (p.preorder ? 'Preorder' : 'Add to cart') : 'Out of stock';
    add.disabled = !p.available;

    add.onclick = () => {
      const selectedVariant = size.value;
      if (!selectedVariant) { alert('Please select a size'); return; }
      addToCart({
        id: p.id,
        productId: p.productId,
        variantId: selectedVariant,
        name: p.name,
        price: p.price,
        img: p.image,
        preorder: !!p.preorder,
        size: size.options[size.selectedIndex].text,
        sizeOptions: p.variants || []
      });
    };

    actions.appendChild(size);
    actions.appendChild(add);

    card.appendChild(img);
    card.appendChild(title);
    card.appendChild(desc);
    card.appendChild(price);
    card.appendChild(actions);

    grid.appendChild(card);
  });
}

/* --- CART --- */
function addToCart(item){
  const found = cart.find(i => i.variantId && item.variantId && String(i.variantId) === String(item.variantId));
  if (found) found.qty++;
  else cart.push({...item, qty:1});
  updateCartUI();
  openCart();
}

function updateCartUI(){
  const count = cart.reduce((s,i)=>s + i.qty, 0);
  const cc = document.getElementById('cartCount');
  cc.textContent = count;
  cc.style.display = count > 0 ? 'block' : 'none';

  const container = document.getElementById('cartItems');
  container.innerHTML = '';
  let total = 0;
  cart.forEach((it, idx) => {
    const row = document.createElement('div');
    row.className = 'cart-item';

    const img = document.createElement('img');
    img.src = it.img || 'https://via.placeholder.com/400x300?text=No+Image';
    img.alt = it.name;

    const info = document.createElement('div');
    info.className = 'cart-item-info';

    // Title + price
    info.innerHTML = `<div class="cart-item-title">${it.name}${it.preorder? ' â€” PREORDER':''}</div><div class="cart-item-price">${formatPrice(it.price)}</div>`;

    // Size selector inside cart
    if (it.sizeOptions && it.sizeOptions.length) {
      const sizeSelect = document.createElement('select');
      sizeSelect.className = 'size-select';
      it.sizeOptions.forEach(opt => {
        const option = document.createElement('option');
        option.value = opt.variantId;
        option.textContent = opt.size;
        if (opt.size === it.size) option.selected = true;
        sizeSelect.appendChild(option);
      });
      sizeSelect.onchange = (e) => {
        it.variantId = e.target.value;
        it.size = sizeSelect.options[sizeSelect.selectedIndex].text;
        updateCartUI();
      };
      info.appendChild(sizeSelect);
    }

    const controls = document.createElement('div');
    controls.className = 'cart-controls';

    const minus = document.createElement('button');
    minus.className = 'qty-btn';
    minus.textContent = 'âˆ’';
    minus.onclick = () => { if (it.qty > 1) it.qty--; else removeFromCart(idx); updateCartUI(); };

    const qty = document.createElement('div');
    qty.textContent = it.qty;

    const plus = document.createElement('button');
    plus.className = 'qty-btn';
    plus.textContent = '+';
    plus.onclick = () => { it.qty++; updateCartUI(); };

    const remove = document.createElement('button');
    remove.className = 'remove-btn';
    remove.textContent = 'Remove';
    remove.onclick = () => { removeFromCart(idx); };

    controls.appendChild(minus);
    controls.appendChild(qty);
    controls.appendChild(plus);
    controls.appendChild(remove);

    row.appendChild(img);
    row.appendChild(info);
    row.appendChild(controls);

    container.appendChild(row);

    total += (it.price || 0) * it.qty;
  });

  document.getElementById('cartTotal').textContent = `$${total.toFixed(2)}`;
  document.getElementById('checkoutBtn').disabled = cart.length === 0;
}

function removeFromCart(index){ cart.splice(index,1); updateCartUI(); }

const drawer = document.getElementById('cartDrawer');
function openCart(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
function closeCart(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
document.getElementById('cartButton').addEventListener('click', () => openCart());

/* --- CHECKOUT --- */
function checkout(){
  if (cart.length === 0) { alert('Cart is empty'); return; }

  const canUseSellAuth = cart.every(i => i.productId && i.variantId);

  if (canUseSellAuth && window.sellAuthEmbed) {
    const sellCart = cart.map(i => ({ productId: Number(i.productId), variantId: Number(i.variantId), quantity: i.qty }));
    try { window.sellAuthEmbed.checkout(this, { cart: sellCart, shopId: SHOP_ID, modal:true }); } 
    catch (e) { console.error(e); alert('SellAuth checkout failed â€” see console.'); }
    return;
  }

  let summary = 'Your cart:\n\n';
  cart.forEach(i => summary += `${i.name} ${i.size ? 'â€” Size ' + i.size : ''} x${i.qty} â€” ${formatPrice(i.price)}\n`);
  const total = cart.reduce((s,i) => s + i.qty * i.price,0);
  summary += `\nTotal: ${formatPrice(total)}\n\nContact support at Revivalapparel@gmail.com to complete your order.`;
  alert(summary);
}

/* --- NAV --- */
function showPage(page){
  document.getElementById('productsSection').style.display = 'none';
  document.getElementById('aboutSection').style.display = 'none';
  document.getElementById('contactSection').style.display = 'none';
  document.getElementById('nav-products').classList.remove('active');
  document.getElementById('nav-about').classList.remove('active');
  document.getElementById('nav-contact').classList.remove('active');

  if (page==='products'){ document.getElementById('productsSection').style.display=''; document.getElementById('nav-products').classList.add('active'); }
  else if (page==='about'){ document.getElementById('aboutSection').style.display=''; document.getElementById('nav-about').classList.add('active'); }
  else if (page==='contact'){ document.getElementById('contactSection').style.display=''; document.getElementById('nav-contact').classList.add('active'); }
}

/* --- INIT --- */
window.addEventListener('DOMContentLoaded', () => { renderProducts(); updateCartUI(); showPage('products'); });
</script>

</body>
</html>